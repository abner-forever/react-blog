(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[1],{19:function(e,t,n){"use strict";var a=n(4),r=n(8),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"formatTime",value:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=e.getDay(),r=e.getHours(),i=e.getMinutes(),c=e.getSeconds();return"".concat(t,"-").concat(n,"-").concat(a," ").concat(r,":").concat(i,":").concat(c)}},{key:"buildRequestUrl",value:function(e,t){if(!t)return e;var n=[];for(var a in t)n.push("".concat(a,"=").concat(t[a]));return console.log("param"),e+"?"+n.join("&")}},{key:"getkey",value:function(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")}}]),e}(),c=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"get",value:function(e,t){var n=i.buildRequestUrl(e,t);return new Promise((function(e,t){fetch(n).then((function(e){return e.json()})).then((function(n){"A0000"===n.code?e(n.data):t(n.msg)})).catch((function(e){t(e)}))}))}},{key:"post",value:function(e,t){console.log("params",t);var n=new Request(e,{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(t)});return new Promise((function(e,t){fetch(n).then((function(e){return e.json()})).then((function(n){console.log("request",n),"A0000"===n.code?e(n.msg):t(n.msg)})).catch((function(e){t(e)}))}))}}]),e}();t.a=new function e(){Object(a.a)(this,e),this.apiArticleList=function(e){return c.get("/api/article/articleList",e)},this.apiArticleOne=function(e){return c.get("/api/article/getArticle",e)},this.updateArticle=function(e,t){return c.post("/api/article/updateArticle",e,t)}}},27:function(e,t,n){},28:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(40);t.a=function(){return r.a.createElement("div",{className:"loading-cont"},r.a.createElement("p",null,"\u9875\u9762\u52a0\u8f7d\u4e2d..."))}},31:function(e,t,n){e.exports=n(45)},36:function(e,t,n){},37:function(e,t,n){},40:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a,r,i,c,o,u,l,s=n(0),f=n.n(s),b=n(9),p=n.n(b),h=(n(36),n(4)),m=n(8),d=n(14),j=n(13),v=(n(37),n(25)),O=n(16),g=n.n(O),y=n(18),k=n(11),w=n(12),x=(n(39),n(1)),E=n(19),A={storeArticle:new(a=function e(){Object(h.a)(this,e),Object(k.a)(this,"articleList",r,this),Object(k.a)(this,"editText",i,this),Object(k.a)(this,"editArticle",c,this),Object(k.a)(this,"isModalVisible",o,this),Object(k.a)(this,"onGetEditText",u,this),Object(k.a)(this,"onGetArticle",l,this)},r=Object(w.a)(a.prototype,"articleList",[x.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(w.a)(a.prototype,"editText",[x.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=Object(w.a)(a.prototype,"editArticle",[x.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=Object(w.a)(a.prototype,"isModalVisible",[x.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=Object(w.a)(a.prototype,"onGetEditText",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ok?"),t.next=3,E.a.apiArticleOne({id:n});case 3:a=t.sent,Object(x.l)((function(){e.editArticle=a}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),l=Object(w.a)(a.prototype,"onGetArticle",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.apiArticleList();case 2:n=t.sent,Object(x.l)((function(){e.articleList=n.list}));case 4:case"end":return t.stop()}}),t)})))}}),a)},S=(n(27),n(20)),z=n(2),T=[{path:"/index",component:f.a.lazy((function(){return n.e(6).then(n.bind(null,353))})),exact:!0,title:"\u9996\u9875",isShowHeader:!0},{path:"/edit",component:f.a.lazy((function(){return Promise.all([n.e(0),n.e(3),n.e(7)]).then(n.bind(null,354))})),title:"\u7f16\u8f91",isShowHeader:!1},{path:"/articledetail",component:f.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,355))})),title:"\u6587\u7ae0\u8be6\u60c5",isShowHeader:!1},{path:"/mine",component:f.a.lazy((function(){return n.e(8).then(n.bind(null,349))})),title:"\u5173\u4e8e\u6211",exact:!0,isShowHeader:!0}],I=n(28),N=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e))._setTabChange=function(e){a.setState({currentIndex:e}),localStorage.setItem("currentIndex",e)},a.state={currentIndex:0},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Number(localStorage.getItem("currentIndex"));this.setState({currentIndex:e})}},{key:"render",value:function(){var e=this;return f.a.createElement(S.a,null,f.a.createElement("header",{className:"header-container"},f.a.createElement("ul",{className:"banner"},T.map((function(t,n){return t.isShowHeader&&f.a.createElement("li",{onClick:function(){return e._setTabChange(n)},key:n,className:e.state.currentIndex===n?"active-tab":"tab-item"},f.a.createElement(S.b,{to:t.path},t.title))})))),f.a.createElement(s.Suspense,{fallback:f.a.createElement("div",null,f.a.createElement(I.a,null))},f.a.createElement("div",{className:"content-box"},f.a.createElement(z.a,{exact:!0,from:"/",to:"/index"}),T.map((function(e,t){return f.a.createElement(z.b,{exact:e.exact,key:t,path:e.path,component:e.component})})))))}}]),n}(s.Component),C=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return f.a.createElement("div",{className:"app-container"},f.a.createElement("div",{className:"container"},f.a.createElement(N,null)))}}]),n}(s.Component),H=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return f.a.createElement(v.a,A,f.a.createElement(C,null))}}]),n}(s.Component);p.a.render(f.a.createElement(H,null),document.getElementById("root"))}},[[31,2,4]]]);
//# sourceMappingURL=main.ecb570e9.chunk.js.map